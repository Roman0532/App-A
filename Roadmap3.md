# План 3

#### 1. Исследовательская задача Flyway (6 часов)

-1.1 Предмет исследования 

* Что такое библиотека Flyway ?

* Для чего она используется ?

* Что такое миграции ?

* Как обеспечить версионность схем и управлять миграциями в БД

-1.2 Метод исследования 

* Искать в интернете

* Читать документацию

-1.3 Ожидаемый результат

* При старте приложение будет инициализировать схему если БД не найдена

#### 2. Подключить СУБД H2 (60 мин)

-2.1 Создать класс Connection который будет ответственный за подключение к бд (20 мин) 

-2.2 Создать файл aaa.db в котором создать таблицы (39 мин)

* User с полями ID (UNIQUE), LOGIN(UNIQUE) , PASSWORD , SALT

* UserRes с полями ID(UNIQUE), USER_ID , ROLE , PATH

* Accountig c полями  ID(UNIQUE), LOGIN , RESOURCE,DATA_START,DATA_END,VOLUME

-2.2 Проверить подключение к бд (1 мин)


#### 3. Создать миграции (69 мин)

-3.1 Создать файл миграции где будет создаваться схема БД (39 мин)

* Поместить его в resource/db/migration/V1__Create_table.sql

* Добавить таблицу User с полями ID (UNIQUE), LOGIN(UNIQUE) , PASSWORD , SALT

* Добавить таблицу  UserRes с полями ID(UNIQUE), USER_ID , ROLE , PATH и добавить индекс 

* Добавить таблицу  Accountig c полями  ID(UNIQUE), LOGIN , RESOURCE, DATA_START,DATA_END,VOLUME

-3.2 Создать файл миграции через который будем вставлять тестовые данные в БД (30 мин)

* Поместить его в resource/db/migration/V2__Create_mg.sql  

#### 4. Добавить слой DAO (50 мин)

-4.1 В пакете DAO создать классы authenticationDAO, authorizationDAO,accountingDAO в которых будут находится методы выборки из бд. (50 мин )

-4.2 Для выборки данных использовать PreparedStatemen

#### 5.Исправить пакет service1 (50 мин)

-5.1 Переписать классы с использованием DAO (50 мин)

#### 6.Исследовательская задача Apache Log4j 2 (4 часа)

-6.1 Предмет исследования 

* Что такое Apache Log4j 2?

* Для чего используется библиотека?

* Как логировать данные?

-6.2 Метод исследования 

* Искать в интернете

* Читать документацию

-6.3 Ожидаемый результат

* Научиться пользоваться библиотекой Apache Log4j 2

* Приложение будет логировать все введенные данные в stdout и в  файл .log , процесс принятия решения с пояснением причины, возникающие исключения со стректрейсом

<table>
<tr>
  <th>Пункт</th>
  <th>Оценка времени</th>
  <th>Фактическое время</th>
</tr>
  <tr>
  <td>1</td>
  <td>6 часов</td>
  <td></td>
</tr>
   <tr>
  <td>2</td>
  <td>60 минут</td>
  <td></td>
</tr>
   <tr>
  <td>3</td>
  <td>69 минут</td>
  <td></td>
</tr>
   <tr>
  <td>4</td>
  <td>50 минут</td>
  <td></td>
</tr>
   <tr>
  <td>5</td>
  <td>50 минут</td>
  <td></td>
</tr>
   <tr>
  <td>6</td>
  <td>4 часа</td>
  <td></td>
</tr>
   <tr>
  <td>Итого</td>
  <td>1549 минут(~26 часов)</td>
  <td></td>
</tr>





</table>
